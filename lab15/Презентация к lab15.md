# Презентация к лабораторной работе №15

----

# Тема:
## Именованные каналы

----

## Российский Университет Дружбы Народов

### Факультет Физико-Математических и Естественных Наук

*Дисциплина: Операционные системы*

Студент: Мухамедияр Адиль

Группа: НКНбд-01-20

Москва, 2021г.

----

### Цель работы

Приобретение практических навыков работы с именованными каналами.

----

### Введение

* Идею программных каналов и значок вертикальной черты как их обозначение придумал Douglas McIlroy, один из авторов ранних командных оболочек. Он обратил внимание на то, сколько времени уходит на обработку вывода одной программы в качестве ввода другой. Его идеи были внедрены в жизнь, когда в 1973 Ken Thompson добавил программные каналы в операционную систему Юникс. Идея была со временем позаимствована другими ОС, такими как DOS, OS/2, Microsoft Windows, и BeOS, часто даже с тем же обозначением.

* Английское название именованного канала - named pipe или FIFO (File In, File Out - файл пришел, файл ушел). Именованные каналы служат в основном для межпроцессного взаимодействия, когда различные процессы в системе обмениваются информацией. Тема это сложная и большая, заслуживающая отдельной статьи. Поэтому в данной работе я только вкратце коснусь ее.

----

### Ход работы:

1. Изучил приведённые в тексте программу *common.h* и взял данный пример за образец.

![1_1.img](https://github.com/adil-cpu/OS_/blob/main/lab15/img/1_1.PNG?raw=true)

* Изучил приведённые в тексте программу *server.c* и взял данный пример за образец.

![1_2.img](https://github.com/adil-cpu/OS_/blob/main/lab15/img/1_2.PNG?raw=true)

* Продолжение кода файла *server.c*.

![1_3.img](https://github.com/adil-cpu/OS_/blob/main/lab15/img/1_3.PNG?raw=true)

* Изучил приведённые в тексте программу *client.c* и взял данный пример за образец.

![1_4.img](https://github.com/adil-cpu/OS_/blob/main/lab15/img/1_4.PNG?raw=true)

* Продолжение кода файла *client.c*.

![1_5.img](https://github.com/adil-cpu/OS_/blob/main/lab15/img/1_5.PNG?raw=true)

2. Написал аналогичные программы, внеся следующие изменения:

* В коде файла *common.h* добавил библиотеку *time.h*, для использования таких функций, как *sleep* и *clock*.

![2_1.img](https://github.com/adil-cpu/OS_/blob/main/lab15/img/2_1.PNG?raw=true)

* В код файла *server.c* так же ввел некоторые изменения.

![2_2.img](https://github.com/adil-cpu/OS_/blob/main/lab15/img/2_2.PNG?raw=true)

* Продолжение кода файла *server.c*. Сервер работает не бесконечно, а прекращает работу через некоторое время.

![2_3.img](https://github.com/adil-cpu/OS_/blob/main/lab15/img/2_3.PNG?raw=true)

* В коде файла *client.c* использовал функцию sleep() для приостановки работы клиента. Так же приравнял переменную *ttime* к нулю, задав его в нутри цикла.

![2_4.img](https://github.com/adil-cpu/OS_/blob/main/lab15/img/2_4.PNG?raw=true)

* Продолжение кода файла *client.c*.

![2_5.img](https://github.com/adil-cpu/OS_/blob/main/lab15/img/2_5.PNG?raw=true)

* С помощью команды *make* запустил *makefile*.

![2_6.img](https://github.com/adil-cpu/OS_/blob/main/lab15/img/2_6.PNG?raw=true)

* Проверяю, запустил коды в файлах *server.c* и *client.c*

![2_7.img](https://github.com/adil-cpu/OS_/blob/main/lab15/img/2_7.PNG?raw=true)

* В случае, если сервер завершит работу, не закрыв канал, файл FIFO не удалится, поэтому его в следующий раз создать будет нельзя и вылезет ошибка, следовательно, работать ничего не будет.

![2_8.img](https://github.com/adil-cpu/OS_/blob/main/lab15/img/2_8.PNG?raw=true)

----

### Вывод

Приобрел практические навыки работы с именованными каналами.

----

### Библиография

[Программные каналы в Linux](https://aidalinux.ru/w/Pipes:_%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%BD%D1%8B%D0%B5_%D0%BA%D0%B0%D0%BD%D0%B0%D0%BB%D1%8B_%D0%B2_Linux)

[Введение в каналы и именованные каналы в Linux](http://rus-linux.net/MyLDP/consol/An_introduction_to_pipes_in_Linux.html)

----

